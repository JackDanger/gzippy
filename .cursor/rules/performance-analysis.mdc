---
description: Performance status and strategy — cloud fleet is source of truth
alwaysApply: true
---

# Performance Status: 45W / 15L (Feb 21 2026)

## Score Breakdown

| Category | W | L | Notes |
|----------|---|---|-------|
| Decompress BGZF (all) | 12 | 0 | Dominant |
| Decompress T1 | 12 | 4 | 4 losses within 1.3% (noise) |
| Decompress Tmax (non-BGZF) | 4 | 8 | No parallel single-member |
| Compress L6/L9 | 12 | 0 | Dominant |
| Compress L1 | 5 | 3 | 2 igzip assembly, 1 arm64 -2.1% |

## What Changed This Session

| Change | Effect |
|--------|--------|
| igzip benchmark now passes `-1` (was default L2) | igzip L1 compress slower → gap improved 74%→57% |
| T1 ISA-L compress uses direct buffer (no double-read) | gzippy L1 T1 improved 37% (737→1009 MB/s) |
| `gzippy-dev score` and `gzippy-dev losses` commands | Quick scorecard from cloud-results.json |
| cloud-results.json now writes to repo root | Was writing to tools/devtool/ |

## Proven Strategies

| Approach | Result |
|---|---|
| mmap stdin for multi-threaded compress | +44% Tmax, beats pigz by 42-78% |
| BufWriter(1MB) for stdout | Reduces syscall overhead |
| Direct ISA-L FFI for decompression | Exact parity with igzip on x86 T1 |
| BGZF-specific path at T1 | +31% (pre-parsed blocks, exact ISIZE alloc) |
| Direct buffer → ISA-L (no Cursor double-read) | +37% for L1 T1 compress |

## What DOESN'T WORK

| Approach | Result |
|---|---|
| mmap stdin for single-threaded | 4x SLOWER (page faults) |
| Speculative parallel decode | -15% to -86% regression |
| Two-pass parallel (scan + re-decode) | 32% SLOWER |
| isal-rs wrapper crate for compress | 2.3x overhead vs direct igzip |
